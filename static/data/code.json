{
  "code": ["df <- data.raw.study2 %>%", "  mutate(ComputedCycleLength = StartDateofLastPeriod - StartDateofPeriodBeforeLast) %>%", "  filter(branch(cycle_length)) %>%", "  filter(branch(certainty)) %>%", "  mutate(NextMenstrualOnset = branch(menstrual_calculation)) %>%", "  mutate(", "    CycleDay = 28 - (NextMenstrualOnset - DateTesting),", "    CycleDay = ifelse(WorkerID == 15, 11, ifelse(WorkerID == 16, 18, CycleDay)),", "    CycleDay = ifelse(CycleDay > 1 & CycleDay < 28,", "      CycleDay,", "      ifelse(CycleDay < 1, 1, 28)", "    )", "  ) %>%", "  mutate(Fertility = branch(fertile)) %>%", "  mutate(RelationshipStatus = branch(relationship_status))", "df <- df %>% mutate(RelComp = round((Rel1 + Rel2 + Rel3) / 3, 2))", "fit_RelComp <- lm(RelComp ~ Fertility * RelationshipStatus, data = df)", "summary_RelComp <- fit_RelComp %>% broom::tidy(conf.int = TRUE)"],
  "parameters": {
    "cycle_length": ["\"cl_option1\" ~ TRUE", "\"cl_option2\" ~ ComputedCycleLength > 25 & ComputedCycleLength < 35", "\"cl_option3\" ~ ReportedCycleLength > 25 & ReportedCycleLength < 35"],
    "certainty": ["\"cer_option1\" ~ TRUE", "\"cer_option2\" ~ Sure1 > 6 | Sure2 > 6"],
    "menstrual_calculation": ["\"mc_option1\" %when% (cycle_length != \"cl_option3\") ~ StartDateofLastPeriod + ComputedCycleLength", "\"mc_option2\" %when% (cycle_length != \"cl_option2\") ~ StartDateofLastPeriod + ReportedCycleLength", "\"mc_option3\" ~ StartDateNext"],
    "fertile": ["\"fer_option1\" ~ factor(ifelse(CycleDay >= 7 & CycleDay <= 14, \"high\", ifelse(CycleDay >= 17 & CycleDay <= 25, \"low\", NA)))", "\"fer_option2\" ~ factor(ifelse(CycleDay >= 6 & CycleDay <= 14, \"high\", ifelse(CycleDay >= 17 & CycleDay <= 27, \"low\", NA)))", "\"fer_option3\" ~ factor(ifelse(CycleDay >= 9 & CycleDay <= 17, \"high\", ifelse(CycleDay >= 18 & CycleDay <= 25, \"low\", NA)))", "\"fer_option4\" ~ factor(ifelse(CycleDay >= 8 & CycleDay <= 14, \"high\", \"low\"))", "\"fer_option5\" ~ factor(ifelse(CycleDay >= 8 & CycleDay <= 17, \"high\", \"low\"))"],
    "relationship_status": ["\"rs_option1\" ~ factor(ifelse(Relationship == 1 | Relationship == 2, \"Single\", \"Relationship\"))", "\"rs_option2\" ~ factor(ifelse(Relationship == 1, \"Single\", \"Relationship\"))", "\"rs_option3\" ~ factor(ifelse(Relationship == 1, \"Single\", ifelse(Relationship == 3 | Relationship == 4, \"Relationship\", NA)))"]
  }
}
